package service;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;

public class AbstractDBAccessService {

	private static AbstractDBAccessService commonDAO;
	private SessionFactory sessionfactory;

	private AbstractDBAccessService() {

		Configuration config = new Configuration();
		config = config.configure();
		this.sessionfactory = config.buildSessionFactory();
	}

	public static synchronized AbstractDBAccessService getInstance() {

		if (commonDAO == null) {
			commonDAO = new AbstractDBAccessService();
		}
		return commonDAO;
	}

	public Session createSession() {

		return this.sessionfactory.openSession();
	}

}
