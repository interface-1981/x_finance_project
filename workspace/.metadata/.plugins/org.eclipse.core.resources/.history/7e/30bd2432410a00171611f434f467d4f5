package web.service.dummy;

import java.util.ArrayList;
import java.util.List;

import org.springframework.stereotype.Component;

import finance.product.dto.TradeSummery;
import finance.product.dto.TradeSummeryFilter;
import finance.product.entity.Trade;
import finance.product.model.Product;
import finance.product.service.ProductService;

@Component
public class ProductServiceDummy implements ProductService{

	static List<Product> productList = new ArrayList<Product>();
	@Override
	public List<TradeSummery> getTradeSummery(TradeSummeryFilter arg0) {

		List<TradeSummery> results = new ArrayList<TradeSummery>();
			TradeSummery ts;
			for(Product p : productList) {

				Trade t = p.getTrade();
				ts = new TradeSummery();
				ts.setTradeID(t.getTradePK().getTradeID());
				ts.setProduct(t.getProduct());
				ts.setCounterpartyID(t.getCounterpartyID());
				ts.setStartDate(t.getStartDate());
				ts.setMaturityDate(t.getMaturityDate());
				ts.setExpiryDate(t.getExpiryDate());
				ts.setStatus(t.getStatus());
				ts.setAuditTimeStamp(t.getAuditTimeStamp());

				if(t.getLegs().size() > 0) {

					ts.setLeg1Currency(t.getLegs().get(0).getCurrency());
					ts.setLeg1PrincipalAmount(t.getLegs().get(0).getPrincipalAmount());
					ts.setLeg1FixOrFloat(t.getLegs().get(0).getFixOrFloat());
					ts.setLeg1PayOrRec(t.getLegs().get(0).getPayOrRec());

				}

				if(t.getLegs().size() > 1) {

					ts.setLeg2Currency(t.getLegs().get(1).getCurrency());
					ts.setLeg2PrincipalAmount(t.getLegs().get(1).getPrincipalAmount());
					ts.setLeg2FixOrFloat(t.getLegs().get(1).getFixOrFloat());
					ts.setLeg2PayOrRec(t.getLegs().get(1).getPayOrRec());

				}

				results.add(ts);

			}
			return results;
	}

	@Override
	public void initialize(Product arg0, int arg1) {
		// TODO 自動生成されたメソッド・スタブ
		if (productList.size() > arg1) {
			arg0.setTrade(productList.get(arg1).getTrade());
		}

	}

	@Override
	public void save(Product arg0) {
		// TODO 自動生成されたメソッド・スタブ
		arg0.setTradeID(productList.size() + 1);
		productList.add(arg0);

	}


}
